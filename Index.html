<!DOCTYPE html>
<html lang="en">
<head>
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>

    <style type="text/css">
        #mynetwork {
            width: 600px;
            height: 400px;
            border: 1px solid lightgray;
        }
    </style>
</head>
<body>
<div id="mynetwork"></div>

<script type="text/javascript">
    // create an array with nodes
    var nodes = new vis.DataSet([
        {id: 1, label: 'Node 1'},
        {id: 2, label: 'Node 2'},
        {id: 3, label: 'Node 3'},
        {id: 4, label: 'Node 4'},
        {id: 5, label: 'Node 5'}
    ]);

    // create an array with edges
    var edges = new vis.DataSet([
        {from: 1, to: 3},
        {from: 1, to: 2},
        {from: 2, to: 4},
        {from: 2, to: 5}
    ]);

    // create a network
    var container = document.getElementById('mynetwork');

    // provide the data in the vis format
    var data = {
        nodes: nodes,
        edges: edges
    };
    var options = {};

    // initialize your network!
    var network = new vis.Network(container, data, options);

    var network;

    var nodes = new vis.DataSet();
    var edges = new vis.DataSet();
    var gephiImported;
    var fixedCheckbox = document.getElementById("fixed");
    fixedCheckbox.onchange = redrawAll;

    var parseColorCheckbox = document.getElementById("parseColor");
    parseColorCheckbox.onchange = redrawAll;

    var nodeContent = document.getElementById("nodeContent");

    loadJSON("../datasources/WorldCup2014.json", redrawAll, function(err) {
        console.log("error");
    });

    var container = document.getElementById("mynetwork");
    var data = {
        nodes: nodes,
        edges: edges
    };
    var options = {
        nodes: {
            shape: "dot",
            font: {
                face: "Tahoma"
            }
        },
        edges: {
            width: 0.15,
            smooth: {
                type: "continuous"
            }
        },
        interaction: {
            tooltipDelay: 200,
            hideEdgesOnDrag: true
        },
        physics: {
            stabilization: false,
            barnesHut: {
                gravitationalConstant: -10000,
                springConstant: 0.002,
                springLength: 150
            }
        }
    };

    network = new vis.Network(container, data, options);
    network.on("click", function(params) {
        if (params.nodes.length > 0) {
            var data = nodes.get(params.nodes[0]); // get the data from selected node
            nodeContent.innerHTML = JSON.stringify(data, undefined, 3); // show the data in the div
        }
    });

    /**
     * This function fills the DataSets. These DataSets will update the network.
     */
    function redrawAll(gephiJSON) {
        if (gephiJSON.nodes === undefined) {
            gephiJSON = gephiImported;
        } else {
            gephiImported = gephiJSON;
        }

        nodes.clear();
        edges.clear();

        var fixed = fixedCheckbox.checked;
        var parseColor = parseColorCheckbox.checked;

        var parsed = vis.parseGephiNetwork(gephiJSON, {
            fixed: fixed,
            parseColor: parseColor
        });

        // add the parsed data to the DataSets.
        nodes.add(parsed.nodes);
        edges.add(parsed.edges);

        var data = nodes.get(2); // get the data from node 2 as example
        nodeContent.innerHTML = JSON.stringify(data, undefined, 3); // show the data in the div
        network.fit(); // zoom to fit
    }



</script>
<script>
    var network;

    var nodes = new vis.DataSet();
    var edges = new vis.DataSet();
    var gephiImported;
    var fixedCheckbox = document.getElementById("fixed");
    fixedCheckbox.onchange = redrawAll;

    var parseColorCheckbox = document.getElementById("parseColor");
    parseColorCheckbox.onchange = redrawAll;

    var nodeContent = document.getElementById("nodeContent");

    loadJSON("../datasources/WorldCup2014.json", redrawAll, function(err) {
        console.log("error");
    });

    var container = document.getElementById("mynetwork");
    var data = {
        nodes: nodes,
        edges: edges
    };
    var options = {
        nodes: {
            shape: "dot",
            font: {
                face: "Tahoma"
            }
        },
        edges: {
            width: 0.15,
            smooth: {
                type: "continuous"
            }
        },
        interaction: {
            tooltipDelay: 200,
            hideEdgesOnDrag: true
        },
        physics: {
            stabilization: false,
            barnesHut: {
                gravitationalConstant: -10000,
                springConstant: 0.002,
                springLength: 150
            }
        }
    };

    network = new vis.Network(container, data, options);
    network.on("click", function(params) {
        if (params.nodes.length > 0) {
            var data = nodes.get(params.nodes[0]); // get the data from selected node
            nodeContent.innerHTML = JSON.stringify(data, undefined, 3); // show the data in the div
        }
    });

    /**
     * This function fills the DataSets. These DataSets will update the network.
     */
    function redrawAll(gephiJSON) {
        if (gephiJSON.nodes === undefined) {
            gephiJSON = gephiImported;
        } else {
            gephiImported = gephiJSON;
        }

        nodes.clear();
        edges.clear();

        var fixed = fixedCheckbox.checked;
        var parseColor = parseColorCheckbox.checked;

        var parsed = vis.parseGephiNetwork(gephiJSON, {
            fixed: fixed,
            parseColor: parseColor
        });

        // add the parsed data to the DataSets.
        nodes.add(parsed.nodes);
        edges.add(parsed.edges);

        var data = nodes.get(2); // get the data from node 2 as example
        nodeContent.innerHTML = JSON.stringify(data, undefined, 3); // show the data in the div
        network.fit(); // zoom to fit
    }

</script>
</body>
</html>